<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
</h:head>
<h:body>

	<ui:composition template="/pages/plantilla.xhtml">

		<ui:define name="title">
			<title><h:outputText value="Partidas | MatesClass" /></title>
		</ui:define>

		<ui:define name="principal">

			<div id="principal">
				<h:form id="myform">
				
					<p:dataTable id="listaPartidas" var="partida"
						emptyMessage="No tienes partidas. Pulsa 'Crear nueva partida' "
						value="#{ListaPartidasMB.listaPartidas}" selectionMode="single"
						selection="#{ListaPartidasMB.partida}"
						rowKey="#{partida.idPartida}">
						<f:facet name="header">
            				PARTIDAS
        				</f:facet>
						<p:column headerText="Partida">
							<h:outputText value="#{partida.nombrePartida}" />
						</p:column>
						<p:column headerText="Fecha creación">
							<h:outputText value="#{partida.fhCreacion}" />
						</p:column>
						<p:column headerText="Puntuación">
							<h:outputText value="#{partida.puntuacion}" />
						</p:column>
						<p:column headerText="Progreso">
							<h:outputText value="#{partida.progreso}" />
						</p:column>
						<f:facet name="footer">
							<p:commandButton process="listaPartidas" icon="ui-icon-play"
								value="¡Juega!" action="#{ListaPartidasMB.jugarPartida}" />
								&nbsp;&nbsp;
								<p:commandButton process="listaPartidas"
								icon="ui-icon-closethick" value="Eliminar"
								action="#{ListaPartidasMB.eliminarPartida}" update="listaPartidas" >
								</p:commandButton>
						</f:facet>
					</p:dataTable>
					
				</h:form>
			</div>
			
		</ui:define>
	</ui:composition>
</h:body>
</html>